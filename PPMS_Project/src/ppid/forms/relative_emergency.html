<template>
	<div style="height: 550px; width: 913px; margin: 5px auto;">
		<table style="width: 100%;">
			<tr class="backroundTab">
				<td colspan="3">
					<div>
						<h5 style="margin: 10px; text-align: left; color: white;">In Case of Emergency</h5>
					</div>
				</td>
			</tr>
			<tr>
				<td>
					<table>
						<tr>
							<td style="width: 120px; vertical-align: middle;" class="text-left">Last Name<label style="color: red;">*</label></td>
							<td>
								<input style="border: 1px solid #e2e2e2; background: #fff;padding: 5px; width: 100%;" type="text" value.bind="obj_personnel.RELATIVE.emergency_contact.model.last_name" tabindex="1" disabled.bind="_disableForm" />
							</td>
						</tr>
						<tr>
							<td style="width: 120px; vertical-align: middle;" class="text-left">Relationship<label style="color: red;">*</label></td>
							<td>
								<select style="border: 1px solid #e2e2e2; background: #fff;padding: 5px; width: 167px;" tabindex="4" value.bind="obj_personnel.RELATIVE.emergency_contact.model.relative_cd" disabled.bind="_disableForm" >
									<option value=""></option>
									<option repeat.for="item of obj_personnel.RELATIONSHIP" value.bind="item.value">${item.text}</option>
								</select>
							</td>
						</tr>						
						<tr>
							<td style="width: 120px; vertical-align: middle;" class="text-left">Unit No.</td>
							<td>
								<input style="border: 1px solid #e2e2e2; background: #fff;padding: 5px; width: 100%;" type="text" value.bind="obj_personnel.RELATIVE.emergency_contact.model.unit_no" tabindex="7" disabled.bind="_disableForm" />
							</td>
						</tr>						
						<tr>
							<td style="width: 120px; vertical-align: middle;" class="text-left">Bldg Name</td>
							<td>
								<input style="border: 1px solid #e2e2e2; background: #fff;padding: 5px; width: 100%;" type="text" value.bind="obj_personnel.RELATIVE.emergency_contact.model.bldg_name" tabindex="10" disabled.bind="_disableForm" />
							</td>
						</tr>						
						<tr>
							<td style="width: 120px; vertical-align: middle;" class="text-left">Barangay</td>
							<td>
								<input style="border: 1px solid #e2e2e2; background: #fff;padding: 5px; width: 100%;" type="text" value.bind="obj_personnel.RELATIVE.emergency_contact.model.barangay" tabindex="13" disabled.bind="_disableForm" />
							</td>
						</tr>
						<tr>
							<td style="width: 120px; vertical-align: middle;" class="text-left">Province/State</td>
								<td>
									<select style="border: 1px solid #e2e2e2; background: #fff;padding: 5px; width: 167px;" change.delegate="dd_provinceChanged(true)" value.bind="obj_personnel.RELATIVE.emergency_contact.model.state_province" tabindex="16" disabled.bind="_disableForm" >
										<option value=""></option>
										<option repeat.for="item of obj_personnel.PROVINCE" value.bind="item.value">${item.text}</option>
									</select>
								</td>
							</tr>
					</table>
				</td>
				<td>
					<table>
						<tr>
							<td style="width: 120px; vertical-align: middle;" class="text-left">Given Name<label style="color: red;">*</label></td>
							<td>
								<input style="border: 1px solid #e2e2e2; background: #fff;padding: 5px; width: 100%;" type="text" value.bind="obj_personnel.RELATIVE.emergency_contact.model.given_name" tabindex="2" disabled.bind="_disableForm" />
							</td>
						</tr>						
						<tr>
							<td style="width: 120px; vertical-align: middle;" class="text-left">Phone No<label style="color: red;">*</label></td>
							<td>
								<input style="border: 1px solid #e2e2e2; background: #fff;padding: 5px; width: 100%;" type="text" value.bind="obj_personnel.RELATIVE.emergency_contact.model.phone_no" tabindex="5" disabled.bind="_disableForm" />
							</td>
						</tr>						
						<tr>
							<td style="width: 120px; vertical-align: middle;" class="text-left">House No.</td>
							<td>
								<input style="border: 1px solid #e2e2e2; background: #fff;padding: 5px; width: 100%;" type="text" value.bind="obj_personnel.RELATIVE.emergency_contact.model.house_no" tabindex="8" disabled.bind="_disableForm" />
							</td>
						</tr>						
						<tr>
							<td style="width: 120px; vertical-align: middle;" class="text-left">Street / Phase</td>
							<td>
								<input style="border: 1px solid #e2e2e2; background: #fff;padding: 5px; width: 100%;" type="text" value.bind="obj_personnel.RELATIVE.emergency_contact.model.street_name" tabindex="11" disabled.bind="_disableForm" />
							</td>
						</tr>						
						<tr>
							<td style="width: 120px; vertical-align: middle;" class="text-left">District</td>
							<td>
								<input style="border: 1px solid #e2e2e2; background: #fff;padding: 5px; width: 100%;" type="text" value.bind="obj_personnel.RELATIVE.emergency_contact.model.district" tabindex="14" disabled.bind="_disableForm" />
							</td>
						</tr>
						<tr>
							<td style="width: 120px; vertical-align: middle;" class="text-left">Region</td>
							<td>
								<select style="border: 1px solid #e2e2e2; background: #fff;padding: 5px; width: 167px;" change.delegate="dd_regionChanged(true)" value.bind="obj_personnel.RELATIVE.emergency_contact.model.region" tabindex="17" disabled.bind="_disableForm" >
									<option value=""></option>
									<optgroup label="Philippines">
										<option repeat.for="item of obj_personnel.REGION" if.bind="item.group=='PH'" value.bind="item.value">${item.text}</option>
									</optgroup>
									<optgroup label="United States of America">
										<option repeat.for="item of obj_personnel.REGION" if.bind="item.group=='US'" value.bind="item.value">${item.text}</option>
									</optgroup>
								</select>
							</td>
						</tr>
					</table>
				</td>
				<td>
					<table>						
						<tr>
							<td style="width: 120px; vertical-align: middle;" class="text-left">Middle Name</td>
							<td>
								<input style="border: 1px solid #e2e2e2; background: #fff;padding: 5px; width: 100%;" type="text" value.bind="obj_personnel.RELATIVE.emergency_contact.model.middle_name" tabindex="3" disabled.bind="_disableForm" />
							</td>
						</tr>						
						<tr>
							<td style="width: 120px; vertical-align: middle;" class="text-left">Zip Code</td>
							<td>
								<input style="border: 1px solid #e2e2e2; background: #fff;padding: 5px; width: 100%;" type="text" value.bind="obj_personnel.RELATIVE.emergency_contact.model.zipcode" tabindex="6" disabled.bind="_disableForm" />
							</td>
						</tr>						
						<tr>
							<td style="width: 120px; vertical-align: middle;" class="text-left">Block Lot</td>
							<td>
								<input style="border: 1px solid #e2e2e2; background: #fff;padding: 5px; width: 100%;" type="text" value.bind="obj_personnel.RELATIVE.emergency_contact.model.block_lot" tabindex="9" disabled.bind="_disableForm" />
							</td>
						</tr>						
						<tr>
							<td style="width: 120px; vertical-align: middle;" class="text-left">Subd / Village</td>
							<td>
								<input style="border: 1px solid #e2e2e2; background: #fff;padding: 5px; width: 100%;" type="text" value.bind="obj_personnel.RELATIVE.emergency_contact.model.sub_village" tabindex="12" disabled.bind="_disableForm" />
							</td>
						</tr>						
						<tr>
							<td style="width: 120px; vertical-align: middle;" class="text-left">City Town</td>
							<td>
								<input style="border: 1px solid #e2e2e2; background: #fff;padding: 5px; width: 100%;" type="text" value.bind="obj_personnel.RELATIVE.emergency_contact.model.city_town" tabindex="15" disabled.bind="_disableForm" />
							</td>
						</tr>
						<tr>
							<td style="width: 120px; vertical-align: middle;" class="text-left">Country<label style="color: red;">*</label></td>
							<td>
								<select style="border: 1px solid #e2e2e2; background: #fff;padding: 5px; width: 167px;" value.bind="obj_personnel.RELATIVE.emergency_contact.model.country_cd" tabindex="18" disabled.bind="_disableForm" >
									<option value=""></option>
									<option repeat.for="item of obj_personnel.COUNTRY" value.bind="item.value">${item.text}</option>
								</select>
							</td>
						</tr>
					</table>
				</td>
			</tr>
			<tr>
				<td colspan="3">
					<button class="btn btn-xs customButton" style="width:150px;" disabled.bind="_disableBtnAdd" click.trigger="btnAdd()">Add</button>&nbsp;&nbsp;
					<button class="btn btn-xs customButton" style="width:150px;" disabled.bind="_disableBtnSave" click.trigger="validate()">Save</button>&nbsp;&nbsp;
					<button class="btn btn-xs customButton" style="width:150px;" click.trigger="clearField()">Clear/Reset</button>
				</td>
			</tr>
			<tr>
				<td colspan="3">
					<div style="height: 300px; overflow-y: scroll;">
						<table class="table table-hover table-condensed table-bordered table-striped" ref="tblData">
							<thead style="display: table-header-group;">
								<tr>
									<td class="colorCell">Last Name</td>
									<td class="colorCell">Given Name</td>
									<td class="colorCell">Middle Name</td>
									<td class="colorCell">Relationship</td>
									<td class="colorCell">Phone No.</td>
									<td class="colorCell">Address</td>
									<td class="colorCell"></td>
									<td class="colorCell"></td>
								</tr>								
							</thead>
							<tbody>
								<tr repeat.for="item of obj_personnel.RELATIVE.emergency_contact.list">
									<td>${item.last_name}</td>
									<td>${item.given_name}</td>
									<td>${item.middle_name}</td>
									<td>${item.relative_cd}</td>
									<td>${item.phone_no}</td>
									<td>${item.address}</td>
									<td>
										<button class="btn btn-xs customButton" click.trigger="btnEdit(item)" disabled.bind="_disableTable" >-</button>
									</td>
									<td>
										<button class="btn btn-xs customButton" click.trigger="btnRemove(item)" disabled.bind="_disableTable">X</button>
									</td>
								</tr>								
								<tr if.bind="obj_personnel.RELATIVE.emergency_contact.list == null || obj_personnel.RELATIVE.emergency_contact.list.length==0">
									<td colspan="9">
										<b>No current entry.</b>
									</td>
								</tr>
							</tbody>
						</table>
					</div>
				</td>
			</tr>
			<tr>
				<td colspan="3">
					<table class= "table-bordered" style=" width: 500px; margin-left: auto; margin-right: auto;">
						<tr>
							<td>
								CREATED BY:
							</td>
							<td>
								<b>${lblCreatedBy}</b>
							</td>
							<td>
								LAST UPDATED BY:
							</td>
							<td>
								<b>${lblUpdatedBy}</b>
							</td>							
						</tr>
					</table>
				</td>
			</tr>
		</table>
	</div>
</template>